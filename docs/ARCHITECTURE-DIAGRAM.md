# ğŸ—ï¸ CineGen AI - Architecture Overview

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER BROWSER                             â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    React Application                       â”‚  â”‚
â”‚  â”‚                                                             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚
â”‚  â”‚  â”‚  HomePage  â”‚  â”‚ Generate   â”‚  â”‚  History   â”‚         â”‚  â”‚
â”‚  â”‚  â”‚            â”‚  â”‚   Page     â”‚  â”‚   Page     â”‚         â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚
â”‚  â”‚         â”‚               â”‚               â”‚                 â”‚  â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â”‚                         â”‚                                  â”‚  â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                           â”‚  â”‚
â”‚  â”‚                    â”‚ Layout  â”‚                           â”‚  â”‚
â”‚  â”‚                    â”‚Componentâ”‚                           â”‚  â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                           â”‚  â”‚
â”‚  â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”            â”‚  â”‚
â”‚  â”‚      â”‚  Nav   â”‚                  â”‚ Footer  â”‚            â”‚  â”‚
â”‚  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚           State Management (Zustand)              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  Auth Store  â”‚      â”‚ Generation   â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚              â”‚      â”‚    Store     â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ - user       â”‚      â”‚ - generationsâ”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ - signIn     â”‚      â”‚ - create     â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ - signOut    â”‚      â”‚ - fetch      â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Supabase API   â”‚  â”‚  Google Gemini   â”‚
        â”‚                  â”‚  â”‚      AI API      â”‚
        â”‚  - Auth          â”‚  â”‚                  â”‚
        â”‚  - Database      â”‚  â”‚ - Prompt Gen     â”‚
        â”‚  - Storage       â”‚  â”‚ - Image Gen      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   PostgreSQL     â”‚
        â”‚    Database      â”‚
        â”‚                  â”‚
        â”‚  Tables:         â”‚
        â”‚  - users         â”‚
        â”‚  - generations   â”‚
        â”‚  - user_stats    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagram

### User Registration Flow
```
User Fills Form â†’ React Validation â†’ Auth Store (Zustand)
                                            â†“
                                    Supabase Auth API
                                            â†“
                                    Create User Record
                                            â†“
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â†“                                     â†“
                 users table                          user_stats table
                 (profile data)                       (usage tracking)
                        â†“                                     â†“
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â†“
                                    Return User Object
                                            â†“
                                    Update Auth Store
                                            â†“
                                    Redirect to Dashboard
```

### Video Generation Flow
```
User Input â†’ Form Validation â†’ Content Moderation
                                        â†“
                                   PASSED?
                                    â†™    â†˜
                                YES      NO
                                 â†“        â†“
                        Gemini API    Show Error
                              â†“
                     Generate Prompt
                              â†“
                     Generate Image (optional)
                              â†“
                        Generation Store
                              â†“
                        Save to Supabase
                              â†“
                     Update user_stats
                              â†“
                    Show Result to User
```

---

## Component Hierarchy

```
App
â”œâ”€â”€ ErrorBoundary
â”‚   â””â”€â”€ Layout
â”‚       â”œâ”€â”€ Navigation
â”‚       â”‚   â”œâ”€â”€ Logo
â”‚       â”‚   â”œâ”€â”€ NavLinks
â”‚       â”‚   â””â”€â”€ AuthButtons
â”‚       â”‚
â”‚       â”œâ”€â”€ Routes
â”‚       â”‚   â”œâ”€â”€ HomePage
â”‚       â”‚   â”‚   â”œâ”€â”€ Hero
â”‚       â”‚   â”‚   â”œâ”€â”€ Features
â”‚       â”‚   â”‚   â”œâ”€â”€ AdUnit (sidebar)
â”‚       â”‚   â”‚   â””â”€â”€ CTA
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ GeneratePage (Protected)
â”‚       â”‚   â”‚   â”œâ”€â”€ GeneratorTabs
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ StoryboardGenerator
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ LogoAnimator
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ IntroGenerator
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ExplainerGenerator
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ KineticTypographyGenerator
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ PromptDisplay
â”‚       â”‚   â”‚   â”œâ”€â”€ ImagePreview
â”‚       â”‚   â”‚   â””â”€â”€ AdUnit (footer)
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ HistoryPage (Protected)
â”‚       â”‚   â”‚   â”œâ”€â”€ GenerationList
â”‚       â”‚   â”‚   â”œâ”€â”€ GenerationCard
â”‚       â”‚   â”‚   â””â”€â”€ AdUnit (sidebar)
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ AboutPage
â”‚       â”‚   â”œâ”€â”€ ContactPage
â”‚       â”‚   â”‚   â””â”€â”€ ContactForm
â”‚       â”‚   â”œâ”€â”€ PrivacyPolicyPage
â”‚       â”‚   â”œâ”€â”€ TermsPage
â”‚       â”‚   â””â”€â”€ CookiePolicyPage
â”‚       â”‚
â”‚       â””â”€â”€ Footer
â”‚           â”œâ”€â”€ CompanyInfo
â”‚           â”œâ”€â”€ ProductLinks
â”‚           â”œâ”€â”€ CompanyLinks
â”‚           â””â”€â”€ LegalLinks
â”‚
â”œâ”€â”€ CookieConsent (global)
â””â”€â”€ Toaster (global)
```

---

## Database Schema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       users         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK, FK auth)    â”‚
â”‚ email               â”‚
â”‚ full_name           â”‚
â”‚ avatar_url          â”‚
â”‚ created_at          â”‚
â”‚ updated_at          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1
         â”‚
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    generations      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)             â”‚
â”‚ user_id (FK)        â”‚â—„â”€â”€â”€â”€â”
â”‚ type                â”‚      â”‚
â”‚ title               â”‚      â”‚ 1:1
â”‚ prompt              â”‚      â”‚
â”‚ inputs (JSONB)      â”‚      â†“
â”‚ visuals (TEXT[])    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ created_at          â”‚  â”‚    user_stats       â”‚
â”‚ updated_at          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ user_id (PK, FK)    â”‚
                         â”‚ generations_count   â”‚
                         â”‚ images_generated    â”‚
                         â”‚ last_generation_at  â”‚
                         â”‚ created_at          â”‚
                         â”‚ updated_at          â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Security Model

### Row Level Security (RLS)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Supabase Auth Layer            â”‚
â”‚                                         â”‚
â”‚  Manages:                              â”‚
â”‚  - JWT tokens                          â”‚
â”‚  - Session persistence                  â”‚
â”‚  - Password hashing                    â”‚
â”‚  - Email verification                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Row Level Security              â”‚
â”‚                                         â”‚
â”‚  users table:                          â”‚
â”‚  âœ“ Users can read own data             â”‚
â”‚  âœ“ Users can update own data           â”‚
â”‚  âœ— Users cannot read others' data      â”‚
â”‚                                         â”‚
â”‚  generations table:                    â”‚
â”‚  âœ“ Users can CRUD own generations      â”‚
â”‚  âœ— Users cannot access others'         â”‚
â”‚                                         â”‚
â”‚  user_stats table:                     â”‚
â”‚  âœ“ Users can read own stats            â”‚
â”‚  âœ— Users cannot modify stats directly  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Content Moderation Pipeline

```
User Input
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Zod Validation   â”‚ â† Type checking, format validation
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ PASS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Length Check       â”‚ â† Min/max character limits
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ PASS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Prohibited Words   â”‚ â† Check against blocklist
â”‚ Scanner            â”‚    (violence, adult, drugs, etc.)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ PASS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Content Allowed    â”‚
â”‚ Proceed with       â”‚
â”‚ Generation         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ad Placement Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Navigation Bar                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Header Ad (728x90)                â”‚ â† AdSense Unit 1
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚                  â”‚
â”‚    Main Content         â”‚   Sidebar Ad     â”‚ â† AdSense Unit 2
â”‚                         â”‚   (300x250)      â”‚
â”‚                         â”‚                  â”‚
â”‚    [Generated Prompt]   â”‚   or             â”‚
â”‚                         â”‚   (160x600)      â”‚
â”‚    [Image Preview]      â”‚                  â”‚
â”‚                         â”‚                  â”‚
â”‚    [Action Buttons]     â”‚                  â”‚
â”‚                         â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Footer Ad (728x90)                 â”‚ â† AdSense Unit 3
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Footer                     â”‚
â”‚   [Legal Links] [Company] [Product]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## State Management Flow

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Components     â”‚
                    â”‚                  â”‚
                    â”‚  - Read state    â”‚
                    â”‚  - Call actions  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Auth Store  â”‚         â”‚  Gen Store   â”‚
         â”‚              â”‚         â”‚              â”‚
         â”‚  State:      â”‚         â”‚  State:      â”‚
         â”‚  - user      â”‚         â”‚  - gens[]    â”‚
         â”‚  - loading   â”‚         â”‚  - current   â”‚
         â”‚  - error     â”‚         â”‚  - loading   â”‚
         â”‚              â”‚         â”‚  - error     â”‚
         â”‚  Actions:    â”‚         â”‚              â”‚
         â”‚  - signIn()  â”‚         â”‚  Actions:    â”‚
         â”‚  - signOut() â”‚         â”‚  - fetch()   â”‚
         â”‚  - signUp()  â”‚         â”‚  - create()  â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  - update()  â”‚
                â”‚                 â”‚  - delete()  â”‚
                â”‚                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                        â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Supabase Client â”‚
                    â”‚                  â”‚
                    â”‚  - Auth API      â”‚
                    â”‚  - Database API  â”‚
                    â”‚  - Storage API   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Organization

```
src/
â”‚
â”œâ”€â”€ main.tsx                     â† App entry point
â”œâ”€â”€ App.tsx                      â† Root component with routing
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ common/                  â† Reusable UI components
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”œâ”€â”€ Loading.tsx
â”‚   â”‚   â”œâ”€â”€ ErrorBoundary.tsx
â”‚   â”‚   â””â”€â”€ CookieConsent.tsx   â† GDPR banner
â”‚   â”‚
â”‚   â”œâ”€â”€ layout/                  â† Layout components
â”‚   â”‚   â”œâ”€â”€ Navigation.tsx       â† Header navigation
â”‚   â”‚   â”œâ”€â”€ Footer.tsx           â† Footer with links
â”‚   â”‚   â””â”€â”€ Layout.tsx           â† Page wrapper
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/                    â† Authentication components
â”‚   â”‚   â”œâ”€â”€ SignInForm.tsx
â”‚   â”‚   â”œâ”€â”€ SignUpForm.tsx
â”‚   â”‚   â””â”€â”€ ProtectedRoute.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ generators/              â† Video generator components
â”‚   â”‚   â”œâ”€â”€ StoryboardGenerator.tsx
â”‚   â”‚   â”œâ”€â”€ LogoAnimator.tsx
â”‚   â”‚   â”œâ”€â”€ IntroGenerator.tsx
â”‚   â”‚   â”œâ”€â”€ ExplainerGenerator.tsx
â”‚   â”‚   â””â”€â”€ KineticTypographyGenerator.tsx
â”‚   â”‚
â”‚   â””â”€â”€ ads/                     â† AdSense components
â”‚       â””â”€â”€ AdUnit.tsx
â”‚
â”œâ”€â”€ pages/                       â† Page components
â”‚   â”œâ”€â”€ HomePage.tsx
â”‚   â”œâ”€â”€ GeneratePage.tsx
â”‚   â”œâ”€â”€ HistoryPage.tsx
â”‚   â”œâ”€â”€ AboutPage.tsx
â”‚   â”œâ”€â”€ ContactPage.tsx
â”‚   â”œâ”€â”€ PrivacyPolicyPage.tsx
â”‚   â”œâ”€â”€ TermsPage.tsx
â”‚   â”œâ”€â”€ CookiePolicyPage.tsx
â”‚   â”œâ”€â”€ SignInPage.tsx
â”‚   â””â”€â”€ SignUpPage.tsx
â”‚
â”œâ”€â”€ services/                    â† Business logic
â”‚   â”œâ”€â”€ aiService.ts            â† Gemini AI integration
â”‚   â””â”€â”€ generationService.ts    â† Generation logic
â”‚
â”œâ”€â”€ stores/                      â† Zustand state stores
â”‚   â”œâ”€â”€ authStore.ts            â† Authentication state
â”‚   â””â”€â”€ generationStore.ts      â† Generation state
â”‚
â”œâ”€â”€ lib/                         â† External service configs
â”‚   â”œâ”€â”€ supabase.ts             â† Supabase client
â”‚   â””â”€â”€ database.types.ts       â† TypeScript types
â”‚
â”œâ”€â”€ hooks/                       â† Custom React hooks
â”‚   â”œâ”€â”€ useAuth.ts              â† Auth helpers
â”‚   â””â”€â”€ useGeneration.ts        â† Generation helpers
â”‚
â””â”€â”€ utils/                       â† Utility functions
    â”œâ”€â”€ contentModeration.ts    â† Content filtering
    â””â”€â”€ validation.ts           â† Input validation
```

---

## Deployment Architecture

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   GitHub     â”‚
                    â”‚  Repository  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ push
                           â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Vercel / Netlify      â”‚
              â”‚  (Auto Deploy)         â”‚
              â”‚                        â”‚
              â”‚  1. Build React app    â”‚
              â”‚  2. Optimize assets    â”‚
              â”‚  3. Deploy to CDN      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   CDN       â”‚     â”‚  Edge        â”‚
         â”‚  (Static)   â”‚     â”‚  Functions   â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                  â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
                    â”‚  Users   â”‚
                    â”‚ Worldwideâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Error Handling Flow

```
                    User Action
                         â†“
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  Try Block    â”‚
                 â”‚               â”‚
                 â”‚  - API call   â”‚
                 â”‚  - Validation â”‚
                 â”‚  - Processing â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    Success? 
                    â†™        â†˜
                YES          NO
                 â†“            â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Success  â”‚  â”‚ Catch Block  â”‚
         â”‚  Handler  â”‚  â”‚              â”‚
         â”‚           â”‚  â”‚ - Log error  â”‚
         â”‚ - Toast   â”‚  â”‚ - Set state  â”‚
         â”‚ - Update  â”‚  â”‚ - Toast      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ Error        â”‚
                         â”‚ Boundary     â”‚
                         â”‚              â”‚
                         â”‚ - Fallback   â”‚
                         â”‚ - Report     â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This architecture provides:
âœ… Scalability - Can handle millions of users
âœ… Security - Multiple layers of protection
âœ… Performance - Optimized data flow
âœ… Maintainability - Clear separation of concerns
âœ… Reliability - Error handling at every level
